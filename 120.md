>Jesus answered them, "Those who are well don't need a physician, but those who are sick do. I have not come to call the righteous, but sinners to repentance."(LUKE 5:31-32)

#运算符

在编程语言，运算符是比较多样化的，虽然在[《常用数学函数和运算优先级》](./104.md)中给出了一个各种运算符和其优先级的表格，但是，那时对Python理解还比较肤浅。建议诸位先回头看看那个表格，然后继续下面的内容。

这里将各种运算符总结一下，有复习，也有拓展。

##算术运算符

前面已经讲过了四则运算，其中涉及到一些运算符：加减乘除，对应的符号分别是：+  -  *  /，此外，还有求余数的：%。这些都是算术运算符。其实，算术运算符不止这些。根据中学数学的知识，也应该想到，还应该有乘方、开方之类的。

下面列出一个表格，将所有的运算符表现出来。不用记，但是要认真地看一看，知道有那些，如果以后用到，但是不自信能够记住，可以来查。

|运算符|描述                |实例                |
|------|--------------------|--------------------|
|+     |加 - 两个对象相加   | 10+20 输出结果 30   |
|-     |减 - 得到负数或是一个数减去另一个数 | 10-20 输出结果 -10|
|*     |乘 - 两个数相乘或是返回一个被重复若干次的字符串 | 10 * 20 输出结果 200|
|/     |除 - x除以y         | 20/10 输出结果 2 |
|%     |取余 - 返回除法的余数 | 20%10 输出结果 0 |
|**    |幂 - 返回x的y次幂   | 10**2 输出结果 100 |
|//    |取整除 - 返回商的整数部分  | 9//2 输出结果 4 , 9.0//2.0 输出结果 4.0 |

可以根据中学数学的知识，想想上面的运算符在混合运算中，应该按照什么顺序计算。并且亲自试试，是否与中学数学中的规律一致。（应该是一致的，计算机科学家不会另外搞一套让我们和他们一块受罪。）

##比较运算符

所谓比较，这在某国是最常见的了，做家长的经常把自己的孩子跟别人的孩子比较，唯恐自己孩子在某方面差了；官员经常把自己的收入和银行比较，总觉得少了。

在计算机高级语言编程中，任何两个同一类型的对象的都可以比较，比如两个数字、两个字符串等。注意，是两个同一类型的。

不同类型的量可以比较吗？

须明确，这种比较没有意义。就好比二两肉和三尺布进行比较，它们谁大呢？这种比较无意义。所以，在真正的编程中，我们要谨慎对待这种不同类型量的比较。

但是，在某些语言中，允许这种无意思的比较。因为它在比较的时候，都是将非数值的转化为了数值类型比较。

对于比较运算符，在小学数学中就学习了一些：大于、小于、等于、不等于。没有陌生的东西，Python里面也是如此。且看下表：

以下假设`a=10`，`b=20`：

| 运算符 | 描述 | 实例 |
|--------|------|------|
|== | 等于 - 比较对象是否相等 | (a == b) 返回 False。|
|!= | 不等于 - 比较两个对象是否不相等 | (a != b) 返回 True. |
|>  | 大于 - 返回x是否大于y | (a > b) 返回 False。|
|<  | 小于 - 返回x是否小于y | (a < b) 返回 True。|
|>= | 大于等于 - 返回x是否大于等于y。| (a >= b) 返回 False。|
|<= | 小于等于 - 返回x是否小于等于y。| (a <= b) 返回 True。|

上面的表格实例中，显示比较的结果就是返回一个True或者False，这是什么意思呢。就是在告诉你，这个比较如果成立，就是为真，返回True，否则返回False，说明比较不成立。

请按照下面方式进行比较操作，然后再根据自己的想象，把比较操作熟练熟练。

    >>> a=10
    >>> b=20
    >>> a > b
    False
    >>> a < b
    True
    >>> a == b
    False
    >>> a != b
    True
    >>> a >= b
    False
    >>> a <= b
    True

除了数字之外，还可以对字符串进行比较。字符串中的比较是按照“字典顺序”进行比较的。当然，这里说的是英文的字典，不是前面说的字典类型的对象。

    >>> a = "qiwsir"
    >>> b = "python"
    >>> a > b
    True

先看第一个字符，按照字典顺序，q大于p（在字典中，q排在p的后面），那么就返回结果True.

在Python中，如果是两种不同类型的对象，虽然可以比较。但我是不赞成这样进行比较的。

    >>> a = 5
    >>> b = "5"
    >>> a > b
    False
    
##逻辑运算符

首先谈谈什么是逻辑，韩寒先生对逻辑有一个分类：

>逻辑分两种，一种是逻辑，另一种是中国人的逻辑。—— 韩寒

这种分类的确非常精准。在很多情况下，中国人是有很奇葩的逻辑的。但是，在Python中，讲的是逻辑，不是中国人的逻辑。

>逻辑（logic），又称理则、论理、推理、推论，是有效推论的哲学研究。逻辑被使用在大部份的智能活动中，但主要在哲学、数学、语义学和计算机科学等领域内被视为一门学科。在数学里，逻辑是指研究某个形式语言的有效推论。

关于逻辑问题，看官如有兴趣，可以听一听[《国立台湾大学公开课：逻辑》](http://v.163.com/special/ntu/luoji.html)

###布尔类型

在所有的高级语言中，都有这么一类对象，被称之为布尔型。从这个名称就知道了，这是用一个人的名字来命名的。

>乔治·布尔（George Boole，1815年11月－1864年，)，英格兰数学家、哲学家。

>乔治·布尔是一个皮匠的儿子，生于英格兰的林肯。由于家境贫寒，布尔不得不在协助养家的同时为自己能受教育而奋斗，不管怎么说，他成了19世纪最重要的数学家之一。尽管他考虑过以牧师为业，但最终还是决定从教，而且不久就开办了自己的学校。

>在备课的时候，布尔不满意当时的数学课本，便决定阅读伟大数学家的论文。在阅读伟大的法国数学家拉格朗日的论文时，布尔有了变分法方面的新发现。变分法是数学分析的分支，它处理的是寻求优化某些参数的曲线和曲面。

>1848年，布尔出版了《The Mathematical Analysis of Logic》，这是他对符号逻辑诸多贡献中的第一次。

>1849年，他被任命位于爱尔兰科克的皇后学院（今科克大学或UCC）的数学教授。1854年，他出版了《The Laws of Thought》，这是他最著名的著作。在这本书中布尔介绍了现在以他的名字命名的布尔代数。布尔撰写了微分方程和差分方程的课本，这些课本在英国一直使用到19世纪末。

>由于其在符号逻辑运算中的特殊贡献，很多计算机语言中将逻辑运算称为布尔运算，将其结果称为布尔值。

请读者认真阅读布尔的生平，立志呀。

布尔所创立的这套逻辑被称之为“布尔代数”。其中规定只有两种值，True和False，正好对应这计算机上二进制数的1和0。所以，布尔代数和计算机是天然吻合的。

所谓布尔类型，就是返回结果为True、False的数据。

在Python中（其它高级语言也类似，其实就是布尔代数的运算法则），有三种运算符，可以实现布尔类型的对象间的运算。

###布尔运算

看下面的表格，对这种逻辑运算符比较容易理解：

（假设`a=10`，`b=20`）

|运算符 | 描述  |  实例 |
|-------|-------|-------|
|and    | 布尔"与" - 如果x为False，x and y返回False，否则它返回y的计算值。| (a and b) 返回 20。|
|or     | 布尔"或" - 如果x是True，它返回True，否则它返回y的计算值。| (a or b) 返回 10。|
|not    | 布尔"非" - 如果x为True，返回False。如果x为False，它返回True。 | not(a and b) 返回 false。|

- and

and，翻译为“与”运算，但事实上，这种翻译容易引起望文生义的理解。

先说一下正确的理解。

`A and B`，含义是：

首先运算A，如果A的值是True，就计算B，并将B的结果返回做为最终结果，如果B是False，那么`A and B`的最终结果就是False，如果B的结果是True，那么A and B的结果就是True；

如果A的值是False ，就不计算B了，直接返回`A and B`的结果为False.

比如：

`4>3 and 4<9`，首先看`4>3`的值，这个值是`True`，再看`4<9`的值，是`True`，那么最终这个表达式的结果为`True`.

    >>> 4>3 and 4<9
    True

`4>3 and 4<2`，先看`4>3`，返回`True`，再看`4<2`，返回的是`False`，那么最终结果是`False`.

    >>> 4>3 and 4<2
    False

`4<3 and 4<9`，先看`4<3`，返回为`False`，就不看后面的了，直接返回这个结果做为最终结果（对这种现象，有一个形象的说法，叫做“短路”。这个说法形象吗？不熟悉物理的是不是感觉形象？）。

    >>> 4<3 and 4<2
    False

前面说容易引起望文生义的理解，就是有相当不少的人认为无论什么时候都看and两边的值，都是True返回True，有一个是False就返回False。根据这种理解得到的结果，与前述理解得到的结果一样，但是，运算量不一样哦。短路求值，能够减少计算量，提高计算布尔表达式的速度。

把上面的计算过程综合一下，在计算`A and B`中，其流程是：

    if A == False:
        return False
    else:
        return bool(B)
        
上面这段算是伪代码啦。所谓伪代码，就是不是真正的代码，无法运行。但是，伪代码也有用途，就是能够以类似代码的方式表达一种计算过程。

- or

or，翻译为“或”运算。在`A or B`中，它是这么运算的：

    if A==True:
        return True
    else:
        return bool(B)

是不是能够看懂上面的伪代码呢？下面再增加上每行的注释。这个伪代码跟自然的英语差不多呀。
    
    if A==True:             #如果A的值是True
        return True         #返回True,表达式最终结果是True
    else:                          #否则，也就是A的值不是True
        return bool(B)      #看B的值，然后就返回B的值做为最终结果。

举例，根据上面的运算过程，分析一下下面的例子，是不是与运算结果一致？

    >>> 4<3 or 4<9
    True
    >>> 4<3 or 4>9
    False
    >>> 4>3 or 4>9
    True

- not

not，翻译成“非”，窃以为非常好，不论面对什么，就是要否定它。

    >>> not(4>3)
    False
    >>> not(4<3)
    True

关于运算符问题，其实不止上面这些，还有呢，比如成员运算符`in`，前面已经用过了。

##复杂的布尔表达式

在进行逻辑判断或者条件判断的时候，不一定都是类似上面例子那样简单的表达式，也可能遇到复杂的表达。如果你遇到了复杂表达式，最好的方法是使用括号。

    >>> (4<9) and (5>9)
    False
    >>> not(True and True)
    False

用括号的方法，意义非常明确。当然，布尔运算也有优先级，但是，你不一定记住，或者如果使用括号，根本没有必要记住优先级。

不过为了给学习者一个印象，先面还是以表格行事，按照从高到底的顺序，把布尔运算的优先级列出来，仅供参考，并且没有必要记忆。

|顺序|符号|
|----|----|
|1 | x == y |
|2 | x != y |
|3 | not x |
|4 | x and y |
|5 | x or y |

最后强调：一定要用括号，不必记忆表格内容。

有了运算符，再应用已经学过的知识，就可以编程了。编程，从语句开始。

------

[总目录](./index.md)&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;[上节：集合(2)](./119.md)&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;[下节：语句(1)](./121.md)

如果你认为有必要打赏我，请通过支付宝：**qiwsir@126.com**,不胜感激。
